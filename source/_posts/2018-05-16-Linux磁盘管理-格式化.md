---
title: 【Linux】Linux磁盘管理04 格式化
tags: Linux
abbrlink: 5dc8807e
date: 2018-05-06 14:23:56
---

## 格式化：

又称逻辑格式化，它是指根据用户选定的文件系统（eg：FAT16（最大支持2GB分区），FAT32（单个文件大小不能超过4GB，最大支持16TB分区），NTFS，EXT2，EXT3，EXT4（centos6默认文件系统）等），在磁盘特定区域写入特定数据，在分区中划出一片用于存放文件分配表、目录表等用于文件管理的磁盘空间。


格式化的目的并不是清空数据，其根本目的是为了**写入文件系统，能够更快查找读写数据**，但是在进行格式化的操作时会先清空原有数据。



格式化具体进行的操作：
将整个分区分割成等大小的数据块（Block），每个数据块默认4KB，存储文件的最小，可以手动选择1KB、2KB或4KB。假设存放10KB的文件，会使用3个数据块，三个数据块不一定是连续的，最后的一数据块中即使没有放满，也不能再存放其他文件。
在分区列表中建立一个二维表格，记录了文件的id号（即文件放在那些数据库中，叫做iNode）、文件修改时间、文件的访问权限。操作文件时先访问此二维表进行权限匹配。


parted工具可以格式化，但是parted支持的文件系统有限
无论使用MBR，还是GPT进行的分区，都可以使用"mkfs"进行分区格式化

```
mkfs (-make for system)
mkfs -t ext3 /dev/sda6     #将sda6分区格式化为ext3格式
mkfs -t ext2 /dev/sda7     #将sda7分区格式化为ext2格式
```
 
MBR只有主分区和逻辑分区可以格式化， 扩展分区不可以格式化
GPT类型格式化后，使用fdisk看不到各个分区的系统文件格式， 必须启动parted工具的print指令来查看
 
```
ls -l /dev/sdb 		#查看sdb磁盘上的设备情况
```





